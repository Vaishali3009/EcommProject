package com.rbs.bdd.util;

import com.rbs.bdd.application.exception.XmlParsingException;
import com.rbs.bdd.generated.ValidateArrangementForPaymentResponse;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

/**
 * Unit test for {@link XmlUtil} to cover utility methods and constructor.
 */
class XmlUtilTest {

    /**
     * Verifies that the static SOAP response is loaded and unmarshalled successfully.
     * Assumes that the file static-response/response.xml exists and is valid.
     */
    @Test
    void testLoadStaticResponse_success() {
        ValidateArrangementForPaymentResponse response = XmlUtil.loadStaticResponse();
        assertNotNull(response);
        assertNotNull(response.getResponseId()); // Add more assertions if needed
    }

    /**
     * Verifies that the utility class constructor is private and throws exception if accessed.
     */
    @Test
    void testPrivateConstructor_throwsException() {
        Exception exception = assertThrows(UnsupportedOperationException.class, XmlUtil::new);
        assertEquals("Utility class", exception.getMessage());
    }
}
